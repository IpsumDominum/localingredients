{% extends "layout.html" %}
  {% block content %}  
  <main>        
      <h1 style="margin:auto;text-align:center;"><strong style="color:green">.</strong>Local Ingredients</h1>  
      <p style="margin:auto;text-align:center;">Find recipes based on local ingrediants, for dunedin :)</p>  
  <form style="text-align:center;margin:auto">
      <select name="type" style="width:10%">
          <option value="vegan">Vegan</option>
          <option value="vege">Vegetarian</option>
          <option value="fish">Pescatarian</option>
          <option value="na">No preference</option>
        </select> 
  <input name="search" placeholder="search here..." style="width:50%;background-color:transparent;border-block:none;border-left:none;border-bottom:#989898 solid 5px">    
  <button type="submit" class="custom-btn btn-6"><span>Search</span></button><br>      
</form>
</main>
<hr>
<div class="container">
        <div class="row ">
    {% for recipe in recipelist %}
         {% if (loop.index+1) % 2 == 0 %}
        </div>
    <div class="row ">
         {% endif %}        
         <div onmouseout = "lowerinfo(this)" onmouseover="showinfo(this)" class="col s3 itembox" style="position:relative">
        <div style="position:absolute;left:1%;width:45%;height:106%;top:1%">
                <img src="{{url_for('static',filename='images/'+recipe.image_file)}}" style="height:92%;width:100%">
        </div>
        <div style="position:absolute;right:2%;width:50%;height:90%;top:1%;overflow-y:scroll">
                <div style="text-align:center;top:0%;width:100%;padding:2%;position:absolute;"><h4>{{recipe.title}}</h4><hr ></div>                    
                <div style="text-align:center;top:30%;width:100%;padding:2%;position:absolute;"><h4>{{recipe.ingredients}}</h4></div>                    
        </div>                    
        <button id="makebutton" onclick="document.location='/{{recipe.title}}'"class="custom-btn btn-1" style="opacity:0;margin:auto"><span>Make</span></button><br> 
    </div>
          
    {% endfor %}
    </div>
    <div class="col s3 itemboxempty" style="opacity:0">
        </div>
          </div>
  </div>
  <script>
      function lowerinfo(ele){
          var parent_children = ele.childNodes;
      for(i=1;i<parent_children.length;i++){
        if(parent_children[i].id=="makebutton"){
                parent_children[i].style.opacity = 0;
            }else if(parent_children[i].style!=undefined){
                parent_children[i].style.opacity=1;
          }
        }
      }      
  function showinfo(ele){
      var parent_children = ele.childNodes;
      for(i=1;i<parent_children.length;i++){
            if(parent_children[i].id=="makebutton"){
                parent_children[i].style.opacity = 1;
            }else if(parent_children[i].style!=undefined){
                parent_children[i].style.opacity=0.2;
          }
        }
      }      
  </script>
{% endblock %}